var alreadySubmited=!1;function validateEmail(e){return e.match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)}notifyMeForm.addEventListener("submit",(async e=>{if(console.log("Reading form..."),e.preventDefault(),alreadySubmited)return party.confetti(notifyMeForm.querySelector("button"),{spread:30}),document.querySelector(".submit-warning p").innerHTML="Already Submited Responce",document.querySelector(".submit-warning").classList.add("active"),setTimeout((()=>{document.querySelector(".submit-warning").classList.remove("active")}),3e3),void console.log("Already Submited");if(NMemail.addEventListener("keypress",(e=>{document.querySelector(".NMemail-warning").classList.remove("active"),NMemail.classList.remove("warn")})),document.querySelector(".NMemail-warning").classList.remove("active"),NMemail.classList.remove("warn"),document.querySelector(".submit-warning").classList.remove("active"),document.querySelector(".submit-problem").classList.remove("active"),NMemail.value.length<1)console.log("No email provided"),NMemail.classList.add("warn"),document.querySelector(".NMemail-warning").innerHTML="Need to enter an email",document.querySelector(".NMemail-warning").classList.add("active"),document.querySelector(".submit-warning p").innerHTML="Action Needed",document.querySelector(".submit-warning").classList.add("active"),setTimeout((()=>{document.querySelector(".submit-warning").classList.remove("active")}),5e3);else if(validateEmail(NMemail.value)){if(console.log("Form's good"),notifyMeForm.querySelector("button").classList.add("loading"),NMemail&&NMpre){var t=await storeData(NMemail.value,NMpre.checked,!0);"Success"===t?(console.log("Data Stored Successfully"),notifyMeForm.querySelector("button").classList.remove("loading"),document.querySelector(".submit-success").classList.add("active"),alreadySubmited=!0,party.confetti(notifyMeForm.querySelector("button"),{spread:30})):"Error"===t&&(console.error("Error adding document: ",e),notifyMeForm.querySelector("button").classList.remove("loading"),document.querySelector(".submit-problem").classList.add("active"))}}else console.log("Email isn't valid"),NMemail.classList.add("warn"),document.querySelector(".NMemail-warning").innerHTML="Email entered is not a valid email",document.querySelector(".NMemail-warning").classList.add("active"),document.querySelector(".submit-warning p").innerHTML="Action Needed",document.querySelector(".submit-warning").classList.add("active"),setTimeout((()=>{document.querySelector(".submit-warning").classList.remove("active")}),5e3)}));